# アークデータインポートツール - 要件定義書

## 1. 概要
2つの元データファイルを読み込み、アーク新規登録用テンプレートCSVファイルを生成するデータ変換ツール

## 2. 目的
- 手動でのデータ変換作業を自動化
- データマッピングエラーの削減
- 処理時間の短縮

## 3. 機能要件

### 3.1 データ入力機能
- **元データファイル1**: 【東京支店】①案件取込用レポート（CSV形式）
- **元データファイル2**: ContractList（CSV形式、日時付きファイル名）
- **テンプレートファイル**: 新規登録テンプレ.csv

### 3.2 データ変換機能
- 利用者番号による2つのデータファイルの結合
- 重複データの除外（契約番号による既登録案件チェック）
- フィールドマッピング変換
- データ形式変換（日付、電話番号、住所分割等）
- データ検証・異常値除外（生年月日等）
- 電話番号の適切な振り分け処理
- 保証人・緊急連絡先の分類処理
- 固定値の挿入

### 3.3 データ出力機能
- アーク新規登録用CSV形式での出力
- 日付付きファイル名での保存

## 4. 非機能要件

### 4.1 性能要件
- 1万件程度のデータ処理に対応
- 処理時間：数分以内

### 4.2 品質要件
- データの整合性保証
- エラーハンドリング
- ログ出力

### 4.3 運用要件
- Windowsコマンドライン実行
- 設定ファイルによるパラメータ変更可能

## 5. 制約事項
- CSVファイルはCP932エンコーディング
- 元データファイルパスは動的（日時含む）
- WebAPIは使用しない（オフライン動作）